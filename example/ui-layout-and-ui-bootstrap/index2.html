<!DOCTYPE html>
<html ng-app="myApp">

<head>
    <meta charset="utf-8" />
    <title>AngularJS Plunker</title>
    <script>
document.write('<base href="' + document.location + '" />');
    </script>
    <link href="../../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
 <link rel="stylesheet" type="text/css" href="../../../bower_components/angular-ui-layout/ui-layout.css"/>
    <link rel="stylesheet" type="text/css" href="../../../bower_components/codemirror/lib/codemirror.css"/>
    <style type="text/css">
    body {
  background: white !important;
}

/*.ui-splitbar {
  background: #D0D0D0 !important;
}
*/
.header-bar {
  background: blue;
  color: white;
  height: 40px;
}

.main-content {
  position: absolute;
  top: 40px;
  bottom: 0;
  left: 0;
  right: 0;
  
}
.CodeMirror {
  border: 1px solid #eee;
}

.ui-layout-row > .ui-splitbar{
  background-color: #f1f1f1 !important;
  cursor: row-resize;
  margin-top: -5px;
  background: #f1f1f1 url(images/handle-h.png) no-repeat !important;
  background-position: 50% !important;
  z-index: 110;
}

.ui-layout-column > .ui-splitbar {
  background-color: #f1f1f1 !important;
  cursor: col-resize;
  background: #f1f1f1 url(images/handle-v.png) no-repeat !important;
  background-position: 50% !important;
  z-index: 120;
}

.CodeMirror{height:100% !important;}
.CodeMirror-gutters{height:100% !important;}

    </style>

</head>

<body ng-controller="MainCtrl">
    <div class="main-content">
        <tabset>
            <tab heading="Tab 1">
                Tab 1 
            </tab>
            <tab heading="Tab 2" select="selectedTab()">
                <div class="col-md-12" style="width: 100%; height: 500px">
                    <div ui-layout>
                        <div ui-layout-container>
                            <div ui-layout="{flow : 'column'}">
                                <div ui-layout-container>
                                    <div ui-layout="{flow: 'row'}">
                                        <div ui-layout-container class=" input-back">
                                            <textarea ui-codemirror="data1.opts" ng-model="data1.content"></textarea>
                                        </div>
                                        <div ui-layout-container class=" output-back">
                                            <textarea ui-codemirror="data2.opts" ng-model="data2.content"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div ui-layout-container>
                                    <div ui-layout="{flow: 'row'}">
                                        <div ui-layout-container class=" js-back">
                                            <textarea ui-codemirror="data3.opts" ng-model="data3.content"></textarea>
                                        </div>
                                        <div ui-layout-container class=" preview-back">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </tab>
        </tabset>
    </div>

<!-- js -->
<script src="../../../bower_components/angular/angular.min.js"></script>
<script src="../../../bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
<script src="../../../bower_components/angular-ui-codemirror/ui-codemirror.min.js"></script>
<script src="../../../bower_components/codemirror/lib/codemirror.js"></script>
<script src="../../../bower_components/codemirror/mode/css/css.js"></script>
<script src="../../../bower_components/codemirror/mode/javascript/javascript.js"></script>
<script src="../../../bower_components/codemirror/mode/xml/xml.js"></script>
<script src="../../../bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    
    <script src="ui-layout.js"></script>

    <script type="text/javascript">
        var app = angular.module('myApp', ['ui.bootstrap', 'ui.layout', 'ui.codemirror']);

        app.controller('MainCtrl', function($scope) {
          $scope.content = 'Hello World';
          var defaultOptions = function (title, mode, content) {
                    return {
                        title: title,
                        content: content,
                        opts: {
                            mode: mode,
                            lineWrapping: true,
                            lineNumbers: true
                        }
                    }
                };

                $scope.selectedTab = function () {
                    $scope.data1 = defaultOptions('HTML', 'text/html', '<div></div>');
                    $scope.data2 = defaultOptions('Javascript', 'javascript', 'var x = 10;');
                    $scope.data3 = defaultOptions('HTML', 'text/html', '<div></div>');
                }
        });

        app.controller('TabsDemoCtrl', function ($scope) {


        });
    </script>
</body>

</html>
